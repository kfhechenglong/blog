<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>创建 cli | 绝对零度随笔</title>
    <meta name="generator" content="VuePress 1.9.5">
    <script>
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?323adbb342c132bcdae1007fda9b6068";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
        </script>
    <link rel="icon" href="logo.png">
    <meta name="description" content="JavaScript html css Vue">
    
    <link rel="preload" href="/blog/assets/css/0.styles.b3674731.css" as="style"><link rel="preload" href="/blog/assets/js/app.ddc589ab.js" as="script"><link rel="preload" href="/blog/assets/js/2.774c1327.js" as="script"><link rel="preload" href="/blog/assets/js/9.e9e8f7e3.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.b3fd89e7.js"><link rel="prefetch" href="/blog/assets/js/100.98422ef6.js"><link rel="prefetch" href="/blog/assets/js/101.eafbb591.js"><link rel="prefetch" href="/blog/assets/js/102.edcb7c3f.js"><link rel="prefetch" href="/blog/assets/js/103.0c511216.js"><link rel="prefetch" href="/blog/assets/js/104.91ee90f4.js"><link rel="prefetch" href="/blog/assets/js/105.15d82683.js"><link rel="prefetch" href="/blog/assets/js/106.07219a42.js"><link rel="prefetch" href="/blog/assets/js/107.d25f6fa4.js"><link rel="prefetch" href="/blog/assets/js/108.c96bd183.js"><link rel="prefetch" href="/blog/assets/js/109.43f33eb4.js"><link rel="prefetch" href="/blog/assets/js/11.726ae191.js"><link rel="prefetch" href="/blog/assets/js/110.b76f4c36.js"><link rel="prefetch" href="/blog/assets/js/111.69fe2d62.js"><link rel="prefetch" href="/blog/assets/js/112.c31a78fb.js"><link rel="prefetch" href="/blog/assets/js/113.974374d7.js"><link rel="prefetch" href="/blog/assets/js/114.42f62746.js"><link rel="prefetch" href="/blog/assets/js/115.87dc5788.js"><link rel="prefetch" href="/blog/assets/js/116.f2e088f1.js"><link rel="prefetch" href="/blog/assets/js/117.243caac6.js"><link rel="prefetch" href="/blog/assets/js/118.4faa631c.js"><link rel="prefetch" href="/blog/assets/js/119.7ce4ebda.js"><link rel="prefetch" href="/blog/assets/js/12.d8ea74de.js"><link rel="prefetch" href="/blog/assets/js/120.7f955743.js"><link rel="prefetch" href="/blog/assets/js/121.49121159.js"><link rel="prefetch" href="/blog/assets/js/122.370dca69.js"><link rel="prefetch" href="/blog/assets/js/123.3f28838a.js"><link rel="prefetch" href="/blog/assets/js/124.647afe51.js"><link rel="prefetch" href="/blog/assets/js/13.95014ac6.js"><link rel="prefetch" href="/blog/assets/js/14.a27e46cf.js"><link rel="prefetch" href="/blog/assets/js/15.19f462c7.js"><link rel="prefetch" href="/blog/assets/js/16.74e8575c.js"><link rel="prefetch" href="/blog/assets/js/17.359cf1c4.js"><link rel="prefetch" href="/blog/assets/js/18.0b83a2fe.js"><link rel="prefetch" href="/blog/assets/js/19.2b6628ac.js"><link rel="prefetch" href="/blog/assets/js/20.156ff94b.js"><link rel="prefetch" href="/blog/assets/js/21.bd5dd49d.js"><link rel="prefetch" href="/blog/assets/js/22.61825640.js"><link rel="prefetch" href="/blog/assets/js/23.d8dbca0d.js"><link rel="prefetch" href="/blog/assets/js/24.733b52d0.js"><link rel="prefetch" href="/blog/assets/js/25.d9c9024b.js"><link rel="prefetch" href="/blog/assets/js/26.fdbdf854.js"><link rel="prefetch" href="/blog/assets/js/27.0953ed4d.js"><link rel="prefetch" href="/blog/assets/js/28.e918c4ac.js"><link rel="prefetch" href="/blog/assets/js/29.73e15ce5.js"><link rel="prefetch" href="/blog/assets/js/3.30fa628e.js"><link rel="prefetch" href="/blog/assets/js/30.79afc44a.js"><link rel="prefetch" href="/blog/assets/js/31.8e001075.js"><link rel="prefetch" href="/blog/assets/js/32.8069113f.js"><link rel="prefetch" href="/blog/assets/js/33.567b9981.js"><link rel="prefetch" href="/blog/assets/js/34.8db00ad3.js"><link rel="prefetch" href="/blog/assets/js/35.66946cc8.js"><link rel="prefetch" href="/blog/assets/js/36.3be6f744.js"><link rel="prefetch" href="/blog/assets/js/37.488b1695.js"><link rel="prefetch" href="/blog/assets/js/38.93de6ebe.js"><link rel="prefetch" href="/blog/assets/js/39.d821394a.js"><link rel="prefetch" href="/blog/assets/js/4.0d9dfe4c.js"><link rel="prefetch" href="/blog/assets/js/40.25a5d768.js"><link rel="prefetch" href="/blog/assets/js/41.47c06273.js"><link rel="prefetch" href="/blog/assets/js/42.aa6d3f44.js"><link rel="prefetch" href="/blog/assets/js/43.9eac9827.js"><link rel="prefetch" href="/blog/assets/js/44.3156360f.js"><link rel="prefetch" href="/blog/assets/js/45.2d2269d4.js"><link rel="prefetch" href="/blog/assets/js/46.9e8933f5.js"><link rel="prefetch" href="/blog/assets/js/47.cc66ac42.js"><link rel="prefetch" href="/blog/assets/js/48.6fda1506.js"><link rel="prefetch" href="/blog/assets/js/49.a227b00d.js"><link rel="prefetch" href="/blog/assets/js/5.54ec4c76.js"><link rel="prefetch" href="/blog/assets/js/50.a556ebd6.js"><link rel="prefetch" href="/blog/assets/js/51.3a728532.js"><link rel="prefetch" href="/blog/assets/js/52.67d4500d.js"><link rel="prefetch" href="/blog/assets/js/53.60a08882.js"><link rel="prefetch" href="/blog/assets/js/54.cf8f5926.js"><link rel="prefetch" href="/blog/assets/js/55.4aa983e5.js"><link rel="prefetch" href="/blog/assets/js/56.d244e21e.js"><link rel="prefetch" href="/blog/assets/js/57.a39a1d84.js"><link rel="prefetch" href="/blog/assets/js/58.c019ed9e.js"><link rel="prefetch" href="/blog/assets/js/59.450e67c3.js"><link rel="prefetch" href="/blog/assets/js/6.98924464.js"><link rel="prefetch" href="/blog/assets/js/60.0ef6107c.js"><link rel="prefetch" href="/blog/assets/js/61.ec347e29.js"><link rel="prefetch" href="/blog/assets/js/62.e7c930eb.js"><link rel="prefetch" href="/blog/assets/js/63.ce9da851.js"><link rel="prefetch" href="/blog/assets/js/64.be22b193.js"><link rel="prefetch" href="/blog/assets/js/65.aa126500.js"><link rel="prefetch" href="/blog/assets/js/66.c0b05ed5.js"><link rel="prefetch" href="/blog/assets/js/67.a4d8c659.js"><link rel="prefetch" href="/blog/assets/js/68.adbe10c2.js"><link rel="prefetch" href="/blog/assets/js/69.ef4e2154.js"><link rel="prefetch" href="/blog/assets/js/7.66671096.js"><link rel="prefetch" href="/blog/assets/js/70.9017a1cd.js"><link rel="prefetch" href="/blog/assets/js/71.c8b2d60d.js"><link rel="prefetch" href="/blog/assets/js/72.7fbe3308.js"><link rel="prefetch" href="/blog/assets/js/73.5e73aa84.js"><link rel="prefetch" href="/blog/assets/js/74.e3d38f49.js"><link rel="prefetch" href="/blog/assets/js/75.281ad02e.js"><link rel="prefetch" href="/blog/assets/js/76.bc5e8eff.js"><link rel="prefetch" href="/blog/assets/js/77.7a03cd85.js"><link rel="prefetch" href="/blog/assets/js/78.d5573591.js"><link rel="prefetch" href="/blog/assets/js/79.c5efb1f6.js"><link rel="prefetch" href="/blog/assets/js/8.d39bb117.js"><link rel="prefetch" href="/blog/assets/js/80.8966fc2e.js"><link rel="prefetch" href="/blog/assets/js/81.50060425.js"><link rel="prefetch" href="/blog/assets/js/82.7246cbf4.js"><link rel="prefetch" href="/blog/assets/js/83.86038acc.js"><link rel="prefetch" href="/blog/assets/js/84.b0b1a579.js"><link rel="prefetch" href="/blog/assets/js/85.16eb0b17.js"><link rel="prefetch" href="/blog/assets/js/86.e718204a.js"><link rel="prefetch" href="/blog/assets/js/87.78cab047.js"><link rel="prefetch" href="/blog/assets/js/88.31a5c33e.js"><link rel="prefetch" href="/blog/assets/js/89.06b800a5.js"><link rel="prefetch" href="/blog/assets/js/90.9855f26b.js"><link rel="prefetch" href="/blog/assets/js/91.a398ef86.js"><link rel="prefetch" href="/blog/assets/js/92.0fd9271f.js"><link rel="prefetch" href="/blog/assets/js/93.23a9d220.js"><link rel="prefetch" href="/blog/assets/js/94.6c0afd6e.js"><link rel="prefetch" href="/blog/assets/js/95.62a9724c.js"><link rel="prefetch" href="/blog/assets/js/96.342b05cd.js"><link rel="prefetch" href="/blog/assets/js/97.c259e8d9.js"><link rel="prefetch" href="/blog/assets/js/98.076674f8.js"><link rel="prefetch" href="/blog/assets/js/99.d98516be.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.b3674731.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">绝对零度随笔</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/kfhechenglong/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/kfhechenglong/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/blog/" aria-current="page" class="sidebar-link">介绍</a></li><li><section class="sidebar-group depth-0"><a href="/blog/javascript/clone" class="sidebar-heading clickable"><span>JavaScript基础</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/javascript/clone.html" class="sidebar-link">1.对象克隆</a></li><li><a href="/blog/javascript/duck.html" class="sidebar-link">2.鸭子类型</a></li><li><a href="/blog/javascript/javascript-inherit.html" class="sidebar-link">3.javascript中的对象继承</a></li><li><a href="/blog/javascript/this.html" class="sidebar-link">4.this</a></li><li><a href="/blog/javascript/call-apply.html" class="sidebar-link">5.call and apply</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/design-mode/single" class="sidebar-heading clickable"><span>设计模式</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/design-mode/single.html" class="sidebar-link">1.单例模式</a></li><li><a href="/blog/design-mode/2.%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/" class="sidebar-link">2.策略模式</a></li><li><a href="/blog/design-mode/3.%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/" class="sidebar-link">3.代理模式</a></li><li><a href="/blog/design-mode/4.%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F/" class="sidebar-link">4.迭代器模式</a></li><li><a href="/blog/design-mode/5.%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F/" class="sidebar-link">5.发布订阅模式</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>6.命令模式</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/blog/design-mode/7.%E6%A8%A1%E6%9D%BF%E6%A8%A1%E5%BC%8F/" class="sidebar-link">7.模板模式</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/%E7%AE%97%E6%B3%95/1.%E6%A0%88/" class="sidebar-link">栈</a></li><li><a href="/blog/算法/7.队列/queue.html" class="sidebar-link">队列</a></li><li><a href="/blog/%E7%AE%97%E6%B3%95/4.%E5%AD%97%E5%85%B8/" class="sidebar-link">字典</a></li><li><a href="/blog/%E7%AE%97%E6%B3%95/5.%E6%95%A3%E5%88%97%E8%A1%A8/" class="sidebar-link">散列</a></li><li><a href="/blog/%E7%AE%97%E6%B3%95/6.%E9%80%92%E5%BD%92/" class="sidebar-link">递归</a></li><li><a href="/blog/%E7%AE%97%E6%B3%95/8.%E6%8C%87%E9%92%88%E6%80%9D%E6%83%B3/" class="sidebar-link">指针思想</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/Pinia/" class="sidebar-heading clickable"><span>Pinia</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/Pinia/%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5/" class="sidebar-link">1.核心概念</a></li><li><a href="/blog/Pinia/核心概念/Getters.html" class="sidebar-link">2.Getters</a></li><li><a href="/blog/Pinia/核心概念/Actions.html" class="sidebar-link">3.Actions</a></li><li><a href="/blog/Pinia/核心概念/Plugins.html" class="sidebar-link">4.Plugins</a></li><li><a href="/blog/Pinia/%E6%93%8D%E4%BD%9C%E6%8C%87%E5%BC%95/" class="sidebar-link">5.操作指引</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>工具</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/uitls/format-date/" class="sidebar-link">1.生日年龄转换</a></li><li><a href="/blog/uitls/千分位.html" class="sidebar-link">2.数字添加千分位</a></li><li><a href="/blog/uitls/exportFiles.html" class="sidebar-link">3.文件下载</a></li><li><a href="/blog/工具/wx-pc-dev.html" class="sidebar-link">4.微信、企微PC端页面调试</a></li><li><a href="/blog/other/fullCalendar/" class="sidebar-link">5.日程组件</a></li><li><a href="/blog/cli/" aria-current="page" class="active sidebar-link">6.脚手架搭建</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/cli/#创建文件" class="sidebar-link">创建文件</a></li><li class="sidebar-sub-header"><a href="/blog/cli/#初始化项目" class="sidebar-link">初始化项目</a></li><li class="sidebar-sub-header"><a href="/blog/cli/#常用工具" class="sidebar-link">常用工具</a></li></ul></li><li><a href="/blog/other/upload-files/" class="sidebar-link">7.文件上传到腾讯云</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>面试</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/%E9%9D%A2%E8%AF%95/truth-value/" class="sidebar-link">1.真值相等</a></li><li><a href="/blog/%E9%9D%A2%E8%AF%95/vue/" class="sidebar-link">2.Vue类</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>vue3.0</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/vue3.0/vue3.0+tsx+v-slots.html" class="sidebar-link">插槽slot及v-model</a></li><li><a href="/blog/vue3.0/antd实现table内容超出自动tooltip.html" class="sidebar-link">table内容超出自动tooltip</a></li><li><a href="/blog/vue核心原理/图解vue3.0编译器核心原理.html" class="sidebar-link">图解vue3.0编译器核心原理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>git篇</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/git篇/git emoji指南.html" class="sidebar-link">git emoji指南</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/other/vue-keep-live" class="sidebar-heading clickable"><span>其它</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/other/vue-keep-live.html" class="sidebar-link">1.vue实现动态缓存以及缓存销毁</a></li><li><a href="/blog/other/vue-router-authority.html" class="sidebar-link">2.vue路由权限的控制</a></li><li><a href="/blog/other/H5.html" class="sidebar-link">2.移动端</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="创建-cli"><a href="#创建-cli" class="header-anchor">#</a> 创建 cli</h1> <h2 id="创建文件"><a href="#创建文件" class="header-anchor">#</a> 创建文件</h2> <p>创建新的项目文件夹</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">mkdir</span> cli <span class="token comment"># 创建项目文件夹</span>
$ <span class="token builtin class-name">cd</span> cli <span class="token comment"># 进入文件夹</span>
$ <span class="token function">npm</span> init <span class="token comment"># 初始化项目生成package.json文件</span>
</code></pre></div><h2 id="初始化项目"><a href="#初始化项目" class="header-anchor">#</a> 初始化项目</h2> <p>生成的<code>package.json</code>文件如下</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cli-demo&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;开发个人cli工具脚手架&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;cli&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;脚手架&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;绝对零度&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="创建执行文件"><a href="#创建执行文件" class="header-anchor">#</a> 创建执行文件</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">mkdir</span> bin <span class="token comment"># 创建bin文件夹</span>
$ <span class="token builtin class-name">cd</span> bin <span class="token comment"># 进入文件夹</span>
$ <span class="token builtin class-name">type</span> null <span class="token operator">&gt;</span> index.js <span class="token comment"># 穿件执行文件</span>
$ <span class="token builtin class-name">cd</span> ./<span class="token punctuation">..</span>/
$ <span class="token function">mkdir</span> template <span class="token comment"># 创建模版文件目录</span>
$ <span class="token builtin class-name">cd</span> template
$ <span class="token builtin class-name">cd</span> .<span class="token operator">&gt;</span> index.html <span class="token comment"># 穿建模板文件</span>
</code></pre></div><p>修改<code>package.json</code>文件，增加以下代码：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./bin/index.js&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;bin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./bin/index.js&quot;</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="测试-index-js-文件"><a href="#测试-index-js-文件" class="header-anchor">#</a> 测试 index.js 文件</h3> <p>给<code>index.js</code>文件增加</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token hashbang comment">#! /usr/bin/env node</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;test link is successed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>关于这句话的意思：</p> <blockquote><p>在写 npm 包的时候需要在脚本的第一行写上<code>#!/usr/bin/env node</code> ，用于指明该脚本文件要使用 node 来执行。
<code>/usr/bin/env</code> 用来告诉用户到<code>path</code>目录下去寻找<code>node</code>，<code>#!/usr/bin/env node</code>可以让系统动态的去查找<code>node</code>，已解决不同机器不同用户设置不一致问题。</p></blockquote> <blockquote><p>PS： 该命令必须放在第一行， 否者不会生效</p></blockquote> <h3 id="链接到全局"><a href="#链接到全局" class="header-anchor">#</a> 链接到全局</h3> <p>在 cmd 中执行<code>npm link</code>命令</p> <p><img src="data:image/png;base64,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" alt="在这里插入图片描述"></p> <p>执行成功后，然后测试命令是否生效</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 执行</span>
$ cli-demo
</code></pre></div><p>结果输出</p> <div class="language-sh extra-class"><pre class="language-sh"><code>index.js
</code></pre></div><p>说明<code>link</code>成功！！</p> <h2 id="常用工具"><a href="#常用工具" class="header-anchor">#</a> 常用工具</h2> <h3 id="说明"><a href="#说明" class="header-anchor">#</a> 说明</h3> <p>一个脚手架的搭建，需要很多额外的工具库，比如命令行指令的<code>commander</code>，命令问答的<code>inquirer</code>等等，本次重点介绍一些常用的 node 工具库：</p> <table><thead><tr><th>序号</th> <th>库名</th> <th>主要作用</th></tr></thead> <tbody><tr><td>1</td> <td><code>commander</code></td> <td><code>node.js</code>命令行工具</td></tr> <tr><td>2</td> <td><code>inquirer</code></td> <td>命令行交互工具</td></tr></tbody></table> <h3 id="commander使用"><a href="#commander使用" class="header-anchor">#</a> <code>commander</code>使用</h3> <p>安装<code>commander</code>工具，相关 Api 中文文档请移至&gt;&gt;&gt;<a href="https://github.com/tj/commander.js/blob/master/Readme_zh-CN.md" target="_blank" rel="noopener noreferrer">这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>或者请移步&gt;&gt;&gt;<a href="https://blog.csdn.net/cheng521521/article/details/125188568" target="_blank" rel="noopener noreferrer">这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> commander
</code></pre></div><p>安装成功 package.json 增加以下信息</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;commander&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^9.3.0&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="测试commander命令"><a href="#测试commander命令" class="header-anchor">#</a> 测试<code>commander</code>命令</h4> <p>现在在<code>bin/index.js</code>文件中增加如下代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> program <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;commander&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

program
  <span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;create &lt;my-app&gt;&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token string">&quot;create a new project&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">&quot;-f, --force&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;overwrite target directory if it exist&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 打印执行结果</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token string">&quot;options&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// require('../bin/create.js')(name, options)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
program<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>运行测试一下，看是否能正常使用，可以直接使用<code>node</code>命令执行<code>index.js</code>文件，或者使用前面配置的全局命令<code>cli-demo</code>来执行。</p> <p><code>create</code>为<code>Command</code>的命令，后面跟随的<code>cli-demo</code>为<code>&lt;my-app&gt;</code>实际参数，<code>-f</code>是<code>option</code>指令</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ node index.js  create cli-demo -f
<span class="token comment"># or</span>
$ cli-demo create cli-demo -f
<span class="token comment"># 打印出结果</span>
<span class="token comment"># name cli-demo options { force: true }</span>
</code></pre></div><p>当使用<code>-h</code>时，则会显示帮助信息</p> <div class="language-sh extra-class"><pre class="language-sh"><code>Usage: index <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>command<span class="token punctuation">]</span>

Options:
  -h, --help                 display <span class="token builtin class-name">help</span> <span class="token keyword">for</span> <span class="token builtin class-name">command</span>

Commands:
  create <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token operator">&lt;</span>my-app<span class="token operator">&gt;</span>  create a new project
  <span class="token builtin class-name">help</span> <span class="token punctuation">[</span>command<span class="token punctuation">]</span>             display <span class="token builtin class-name">help</span> <span class="token keyword">for</span> <span class="token builtin class-name">command</span>
</code></pre></div><h3 id="命令行交互工具inquirer使用"><a href="#命令行交互工具inquirer使用" class="header-anchor">#</a> 命令行交互工具<code>inquirer</code>使用</h3> <p>命令行交互工具在脚手架开发中占有很重要的地位，主要使用在对用户的询问与选择，执行一些命令</p> <p>安装<code>inquirer</code>工具，相关 Api 文档请移至&gt;&gt;&gt;<a href="https://github.com/SBoudrias/Inquirer.js#readme" target="_blank" rel="noopener noreferrer">这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>本例中<code>inquirer</code>主要是用于列表选择等问答。</p> <p>为了代码更好封装，我们将创建文件夹的相关逻辑单独抽离出来，创建 create.js 文件,并增加以下代码</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token hashbang comment">#! /usr/bin/env node</span>
<span class="token keyword">const</span> inquirer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;inquirer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

inquirer
  <span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">&quot;action&quot;</span><span class="token punctuation">,</span>
      type<span class="token operator">:</span> <span class="token string">&quot;list&quot;</span><span class="token punctuation">,</span>
      message<span class="token operator">:</span>
        <span class="token string">&quot;The target folder already exists, Please select the action below&quot;</span><span class="token punctuation">,</span>
      choices<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          name<span class="token operator">:</span> <span class="token string">&quot;Overwrite&quot;</span><span class="token punctuation">,</span>
          value<span class="token operator">:</span> <span class="token string">&quot;overwrite&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          name<span class="token operator">:</span> <span class="token string">&quot;Cancel&quot;</span><span class="token punctuation">,</span>
          value<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">answers</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 交互输出的结果值</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>answers<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>answers<span class="token punctuation">.</span>action <span class="token operator">===</span> <span class="token string">&quot;overwrite&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;重写目标文件夹&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;取消，结束操作&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>isTtyError<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Prompt couldn't be rendered in the current environment</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// Something else went wrong</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>运行一下试试，看看能否正常进行命令交互</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ node .<span class="token punctuation">\</span>index.js
? The target folder already exists, Please <span class="token keyword">select</span> the action below <span class="token punctuation">(</span>Use arrow keys<span class="token punctuation">)</span>
<span class="token operator">&gt;</span> Overwrite
  Cancel
</code></pre></div><p>键盘上下键作为选择键，enter 作为选择确认键，现在直接按下 enter</p> <div class="language-sh extra-class"><pre class="language-sh"><code>? The target folder already exists, Please <span class="token keyword">select</span> the action below Overwrite
<span class="token comment"># { action: 'overwrite' }</span>
<span class="token comment"># 重写目标文件夹</span>
</code></pre></div><p><code>inquirer</code>返回的是一个<code>promise</code>，所以，我们可以使用<code>async</code> <code>await</code> 代替</p> <h3 id="创建本地文件夹"><a href="#创建本地文件夹" class="header-anchor">#</a> 创建本地文件夹</h3> <p>在创建本地文件夹之前，我们需要先判断本地是否已经存在此文件夹，如果存在则需要告知用户是否删除或覆盖文件夹。另外可以根据用户的创建命令，直接强制创建文件夹(<code>-f --force</code>)；</p> <p>所以我们需要用到<code>node</code>的<code>fs.existsSync</code>:</p> <blockquote><p>以同步的方法检测目录是否存在。如果目录存在 返回 true ，如果目录不存在 返回 false</p></blockquote> <p>删除文件夹则需要使用 fs 的拓展工具<a href="https://www.npmjs.com/package/fs-extra" target="_blank" rel="noopener noreferrer"><code>fs-extra</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中的<code>fs.remove(targetPath)</code>方法,需要安装一下<code>npm install fs-extra</code>;</p> <p>完善一下代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;fs-extra&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> inquirer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;inquirer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> cwd <span class="token operator">=</span> process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> targetPath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>cwd<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>targetPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 判断目标是否存在</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">existsSync</span><span class="token punctuation">(</span>targetPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 是否强制创建目录</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>force<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 移除旧目录</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\r\nRemoving....</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// await fs.remove(targetPath)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// 是否要覆盖目录</span>
      <span class="token keyword">let</span> <span class="token punctuation">{</span> action <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> inquirer<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          name<span class="token operator">:</span> <span class="token string">&quot;action&quot;</span><span class="token punctuation">,</span>
          type<span class="token operator">:</span> <span class="token string">&quot;list&quot;</span><span class="token punctuation">,</span>
          message<span class="token operator">:</span>
            <span class="token string">&quot;The target folder already exists, Please select the action belowcls&quot;</span><span class="token punctuation">,</span>
          choices<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              name<span class="token operator">:</span> <span class="token string">&quot;Overwrite&quot;</span><span class="token punctuation">,</span>
              value<span class="token operator">:</span> <span class="token string">&quot;overwrite&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              name<span class="token operator">:</span> <span class="token string">&quot;Cancel&quot;</span><span class="token punctuation">,</span>
              value<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>action<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>action <span class="token operator">===</span> <span class="token string">&quot;overwrite&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果选择重写目录</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\r\nRemoving....</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// await fs.remove(targetPath)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 创建目录</span>
  fs<span class="token punctuation">.</span><span class="token function">mkdir</span><span class="token punctuation">(</span>targetPath<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;创建目录文件夹成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>例如我们需要创建一个名为<code>template</code>的模版文件夹,且本地存在<code>template</code>文件夹</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ ****<span class="token punctuation">\</span>cli<span class="token operator">&gt;</span>cli-demo create template
index.js
name template options <span class="token punctuation">{</span><span class="token punctuation">}</span>
$ ****<span class="token punctuation">\</span>cli<span class="token punctuation">\</span>template
? The target folder already exists, Please <span class="token keyword">select</span> the action belowcls <span class="token punctuation">(</span>Use arrow keys<span class="token punctuation">)</span>
<span class="token operator">&gt;</span> Overwrite
  Cancel
<span class="token comment"># 按下enter键则输出</span>

Removing<span class="token punctuation">..</span><span class="token punctuation">..</span>
创建目录文件夹成功
</code></pre></div><p>此时，逻辑代码完全按照预想的预案执行</p> <h3 id="美化信息"><a href="#美化信息" class="header-anchor">#</a> 美化信息</h3> <p>安装插件<a href="https://www.npmjs.com/package/chalk" target="_blank" rel="noopener noreferrer"><code>chalk</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">npm</span> <span class="token function">install</span> chalk
</code></pre></div><p>安装成功后，这个地方发现一个坑需要填平。因为前面的代码我们都是采用<code>CommonJs</code>规范，例如采用<code>require</code>的方式引入插件<code>const inquirer = require(&quot;inquirer&quot;);</code>，但是新版的<code>chalk</code>已经不支持这种方式，需要采用<code>module</code>模式，所以需要先修改<code>package.json</code>,增加以下配置</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span>
</code></pre></div><p>然后将项目中相关引用改为<code>import from</code>方式,例如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Command <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;commander&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> create <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./create.js&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 其它代码省略</span>
</code></pre></div><p>言归正传，我们接着使用<code>chalk</code>来美化命名输入样式</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> chalk <span class="token keyword">from</span> <span class="token string">&quot;chalk&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> cwd <span class="token operator">=</span> process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> targetPath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>cwd<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>targetPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 判断目标是否存在</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">existsSync</span><span class="token punctuation">(</span>targetPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 是否强制创建目录</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>force<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 移除旧目录</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">redBright</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\r\nRemoving....</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">await</span> fs<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>targetPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">bgBlue</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\r\n旧文件夹移除成功</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// 原始逻辑</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>action<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>action <span class="token operator">===</span> <span class="token string">&quot;overwrite&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果选择重写目录</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">redBright</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\r\nRemoving....</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> fs<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>targetPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">bgBlue</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\r\n旧文件夹移除成功</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 创建目录</span>
  fs<span class="token punctuation">.</span><span class="token function">mkdir</span><span class="token punctuation">(</span>targetPath<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
        chalk<span class="token punctuation">.</span><span class="token function">green</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\r\n创建目录文件--</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>chalk<span class="token punctuation">.</span><span class="token function">yellow</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">--夹成功</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>再次执行命令<code>cli-demo create template -f</code>，此处输出：</p> <p><img src="data:image/png;base64,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" alt="在这里插入图片描述"></p> <p>这样命令行消息就显得醒目一些，更加方便查看。</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/kfhechenglong/blog/edit/master/docs/cli/README.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">6/13/2022, 3:05:38 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/other/fullCalendar/" class="prev">
        5.日程组件
      </a></span> <span class="next"><a href="/blog/other/upload-files/">
        7.文件上传到腾讯云
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.ddc589ab.js" defer></script><script src="/blog/assets/js/2.774c1327.js" defer></script><script src="/blog/assets/js/9.e9e8f7e3.js" defer></script>
  </body>
</html>
