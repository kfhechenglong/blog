(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{476:function(t,s,a){"use strict";a.r(s);var e=a(54),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"embedded-javascript-templates"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#embedded-javascript-templates"}},[t._v("#")]),t._v(" Embedded JavaScript templates"),a("br"),t._v(" "),a("a",{attrs:{href:"https://travis-ci.org/mde/ejs",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://img.shields.io/travis/mde/ejs/master.svg?style=flat",alt:"Build Status"}}),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://david-dm.org/mde/ejs?type=dev",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://img.shields.io/david/dev/mde/ejs.svg?style=flat",alt:"Developing Dependencies"}}),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://snyk.io/test/npm/ejs",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://snyk.io/test/npm/ejs/badge.svg?style=flat",alt:"Known Vulnerabilities"}}),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"installation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[t._v("#")]),t._v(" Installation")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" ejs\n")])])]),a("h2",{attrs:{id:"features"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#features"}},[t._v("#")]),t._v(" Features")]),t._v(" "),a("ul",[a("li",[t._v("Control flow with "),a("code",[t._v("<% %>")])]),t._v(" "),a("li",[t._v("Escaped output with "),a("code",[t._v("<%= %>")]),t._v(" (escape function configurable)")]),t._v(" "),a("li",[t._v("Unescaped raw output with "),a("code",[t._v("<%- %>")])]),t._v(" "),a("li",[t._v("Newline-trim mode ('newline slurping') with "),a("code",[t._v("-%>")]),t._v(" ending tag")]),t._v(" "),a("li",[t._v("Whitespace-trim mode (slurp all whitespace) for control flow with "),a("code",[t._v("<%_ _%>")])]),t._v(" "),a("li",[t._v("Custom delimiters (e.g. "),a("code",[t._v("[? ?]")]),t._v(" instead of "),a("code",[t._v("<% %>")]),t._v(")")]),t._v(" "),a("li",[t._v("Includes")]),t._v(" "),a("li",[t._v("Client-side support")]),t._v(" "),a("li",[t._v("Static caching of intermediate JavaScript")]),t._v(" "),a("li",[t._v("Static caching of templates")]),t._v(" "),a("li",[t._v("Complies with the "),a("a",{attrs:{href:"http://expressjs.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("Express"),a("OutboundLink")],1),t._v(" view system")])]),t._v(" "),a("h2",{attrs:{id:"example"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[t._v("#")]),t._v(" Example")]),t._v(" "),a("div",{staticClass:"language-ejs extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ejs"}},[a("code",[a("span",{pre:!0,attrs:{class:"token ejs language-ejs"}},[a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("<%")]),a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ")]),a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%>")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token ejs language-ejs"}},[a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("<%=")]),a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name ")]),a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%>")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token ejs language-ejs"}},[a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("<%")]),a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" ")]),a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%>")])]),t._v("\n")])])]),a("p",[t._v("Try EJS online at: https://ionicabizau.github.io/ejs-playground/.")]),t._v(" "),a("h2",{attrs:{id:"basic-usage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic-usage"}},[t._v("#")]),t._v(" Basic usage")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" template "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ejs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("compile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => Rendered HTML string")]),t._v("\n\nejs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => Rendered HTML string")]),t._v("\n\nejs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("renderFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" str")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// str => Rendered HTML string")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("It is also possible to use "),a("code",[t._v("ejs.render(dataAndOptions);")]),t._v(" where you pass\neverything in a single object. In that case, you'll end up with local variables\nfor all the passed options. However, be aware that your code could break if we\nadd an option with the same name as one of your data object's properties.\nTherefore, we do not recommend using this shortcut.")]),t._v(" "),a("h3",{attrs:{id:"important"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#important"}},[t._v("#")]),t._v(" Important")]),t._v(" "),a("p",[t._v("You should never give end-users unfettered access to the EJS render method, If you do so you are using EJS in an inherently un-secure way.")]),t._v(" "),a("h3",{attrs:{id:"options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#options"}},[t._v("#")]),t._v(" Options")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("cache")]),t._v("                 Compiled functions are cached, requires "),a("code",[t._v("filename")])]),t._v(" "),a("li",[a("code",[t._v("filename")]),t._v("              The name of the file being rendered. Not required if you\nare using "),a("code",[t._v("renderFile()")]),t._v(". Used by "),a("code",[t._v("cache")]),t._v(" to key caches, and for includes.")]),t._v(" "),a("li",[a("code",[t._v("root")]),t._v("                  Set project root for includes with an absolute path (e.g, /file.ejs).\nCan be array to try to resolve include from multiple directories.")]),t._v(" "),a("li",[a("code",[t._v("views")]),t._v("                 An array of paths to use when resolving includes with relative paths.")]),t._v(" "),a("li",[a("code",[t._v("context")]),t._v("               Function execution context")]),t._v(" "),a("li",[a("code",[t._v("compileDebug")]),t._v("          When "),a("code",[t._v("false")]),t._v(" no debug instrumentation is compiled")]),t._v(" "),a("li",[a("code",[t._v("client")]),t._v("                When "),a("code",[t._v("true")]),t._v(", compiles a function that can be rendered\nin the browser without needing to load the EJS Runtime\n("),a("a",{attrs:{href:"https://github.com/mde/ejs/releases/latest",target:"_blank",rel:"noopener noreferrer"}},[t._v("ejs.min.js"),a("OutboundLink")],1),t._v(").")]),t._v(" "),a("li",[a("code",[t._v("delimiter")]),t._v("             Character to use for inner delimiter, by default '%'")]),t._v(" "),a("li",[a("code",[t._v("openDelimiter")]),t._v("         Character to use for opening delimiter, by default '<'")]),t._v(" "),a("li",[a("code",[t._v("closeDelimiter")]),t._v("        Character to use for closing delimiter, by default '>'")]),t._v(" "),a("li",[a("code",[t._v("debug")]),t._v("                 Outputs generated function body")]),t._v(" "),a("li",[a("code",[t._v("strict")]),t._v("                When set to "),a("code",[t._v("true")]),t._v(", generated function is in strict mode")]),t._v(" "),a("li",[a("code",[t._v("_with")]),t._v("                 Whether or not to use "),a("code",[t._v("with() {}")]),t._v(" constructs. If "),a("code",[t._v("false")]),t._v("\nthen the locals will be stored in the "),a("code",[t._v("locals")]),t._v(" object. Set to "),a("code",[t._v("false")]),t._v(" in strict mode.")]),t._v(" "),a("li",[a("code",[t._v("destructuredLocals")]),t._v("    An array of local variables that are always destructured from\nthe locals object, available even in strict mode.")]),t._v(" "),a("li",[a("code",[t._v("localsName")]),t._v("            Name to use for the object storing local variables when not using\n"),a("code",[t._v("with")]),t._v(" Defaults to "),a("code",[t._v("locals")])]),t._v(" "),a("li",[a("code",[t._v("rmWhitespace")]),t._v("          Remove all safe-to-remove whitespace, including leading\nand trailing whitespace. It also enables a safer version of "),a("code",[t._v("-%>")]),t._v(" line\nslurping for all scriptlet tags (it does not strip new lines of tags in\nthe middle of a line).")]),t._v(" "),a("li",[a("code",[t._v("escape")]),t._v("                The escaping function used with "),a("code",[t._v("<%=")]),t._v(" construct. It is\nused in rendering and is "),a("code",[t._v(".toString()")]),t._v("ed in the generation of client functions.\n(By default escapes XML).")]),t._v(" "),a("li",[a("code",[t._v("outputFunctionName")]),t._v("    Set to a string (e.g., 'echo' or 'print') for a function to print\noutput inside scriptlet tags.")]),t._v(" "),a("li",[a("code",[t._v("async")]),t._v("                 When "),a("code",[t._v("true")]),t._v(", EJS will use an async function for rendering. (Depends\non async/await support in the JS runtime.")]),t._v(" "),a("li",[a("code",[t._v("includer")]),t._v("              Custom function to handle EJS includes, receives "),a("code",[t._v("(originalPath, parsedPath)")]),t._v("\nparameters, where "),a("code",[t._v("originalPath")]),t._v(" is the path in include as-is and "),a("code",[t._v("parsedPath")]),t._v(" is the\npreviously resolved path. Should return an object "),a("code",[t._v("{ filename, template }")]),t._v(",\nyou may return only one of the properties, where "),a("code",[t._v("filename")]),t._v(" is the final parsed path and "),a("code",[t._v("template")]),t._v("\nis the included content.")])]),t._v(" "),a("p",[t._v("This project uses "),a("a",{attrs:{href:"http://usejsdoc.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("JSDoc"),a("OutboundLink")],1),t._v(". For the full public API\ndocumentation, clone the repository and run "),a("code",[t._v("jake doc")]),t._v(". This will run JSDoc\nwith the proper options and output the documentation to "),a("code",[t._v("out/")]),t._v(". If you want\nthe both the public & private API docs, run "),a("code",[t._v("jake devdoc")]),t._v(" instead.")]),t._v(" "),a("h3",{attrs:{id:"tags"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tags"}},[t._v("#")]),t._v(" Tags")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("<%")]),t._v("              'Scriptlet' tag, for control-flow, no output")]),t._v(" "),a("li",[a("code",[t._v("<%_")]),t._v("             'Whitespace Slurping' Scriptlet tag, strips all whitespace before it")]),t._v(" "),a("li",[a("code",[t._v("<%=")]),t._v("             Outputs the value into the template (escaped)")]),t._v(" "),a("li",[a("code",[t._v("<%-")]),t._v("             Outputs the unescaped value into the template")]),t._v(" "),a("li",[a("code",[t._v("<%#")]),t._v("             Comment tag, no execution, no output")]),t._v(" "),a("li",[a("code",[t._v("<%%")]),t._v("             Outputs a literal '<%'")]),t._v(" "),a("li",[a("code",[t._v("%%>")]),t._v("             Outputs a literal '%>'")]),t._v(" "),a("li",[a("code",[t._v("%>")]),t._v("              Plain ending tag")]),t._v(" "),a("li",[a("code",[t._v("-%>")]),t._v("             Trim-mode ('newline slurp') tag, trims following newline")]),t._v(" "),a("li",[a("code",[t._v("_%>")]),t._v("             'Whitespace Slurping' ending tag, removes all whitespace after it")])]),t._v(" "),a("p",[t._v("For the full syntax documentation, please see "),a("a",{attrs:{href:"https://github.com/mde/ejs/blob/master/docs/syntax.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("docs/syntax.md"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"includes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#includes"}},[t._v("#")]),t._v(" Includes")]),t._v(" "),a("p",[t._v("Includes either have to be an absolute path, or, if not, are assumed as\nrelative to the template with the "),a("code",[t._v("include")]),t._v(" call. For example if you are\nincluding "),a("code",[t._v("./views/user/show.ejs")]),t._v(" from "),a("code",[t._v("./views/users.ejs")]),t._v(" you would\nuse "),a("code",[t._v("<%- include('user/show') %>")]),t._v(".")]),t._v(" "),a("p",[t._v("You must specify the "),a("code",[t._v("filename")]),t._v(" option for the template with the "),a("code",[t._v("include")]),t._v("\ncall unless you are using "),a("code",[t._v("renderFile()")]),t._v(".")]),t._v(" "),a("p",[t._v("You'll likely want to use the raw output tag ("),a("code",[t._v("<%-")]),t._v(") with your include to avoid\ndouble-escaping the HTML output.")]),t._v(" "),a("div",{staticClass:"language-ejs extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ejs"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ul")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token ejs language-ejs"}},[a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("<%")]),a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v(" users"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ")]),a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token ejs language-ejs"}},[a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("<%-")]),a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("include")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user/show'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" ")]),a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%>")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token ejs language-ejs"}},[a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("<%")]),a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" ")]),a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ul")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("Includes are inserted at runtime, so you can use variables for the path in the\n"),a("code",[t._v("include")]),t._v(" call (for example "),a("code",[t._v("<%- include(somePath) %>")]),t._v("). Variables in your\ntop-level data object are available to all your includes, but local variables\nneed to be passed down.")]),t._v(" "),a("p",[t._v("NOTE: Include preprocessor directives ("),a("code",[t._v("<% include user/show %>")]),t._v(") are\nnot supported in v3.0+.")]),t._v(" "),a("h2",{attrs:{id:"custom-delimiters"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#custom-delimiters"}},[t._v("#")]),t._v(" Custom delimiters")]),t._v(" "),a("p",[t._v("Custom delimiters can be applied on a per-template basis, or globally:")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" ejs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ejs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    users "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'geddy'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'neil'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'alex'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Just one template")]),t._v("\nejs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<p>[?= users.join(\" | \"); ?]</p>'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("users"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" users"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("delimiter"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'?'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" openDelimiter"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'['")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" closeDelimiter"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("']'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => '<p>geddy | neil | alex</p>'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Or globally")]),t._v("\nejs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("delimiter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'?'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nejs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("openDelimiter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'['")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nejs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("closeDelimiter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("']'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nejs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<p>[?= users.join(\" | \"); ?]</p>'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("users"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" users"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => '<p>geddy | neil | alex</p>'")]),t._v("\n")])])]),a("h3",{attrs:{id:"caching"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#caching"}},[t._v("#")]),t._v(" Caching")]),t._v(" "),a("p",[t._v("EJS ships with a basic in-process cache for caching the intermediate JavaScript\nfunctions used to render templates. It's easy to plug in LRU caching using\nNode's "),a("code",[t._v("lru-cache")]),t._v(" library:")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" ejs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ejs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("LRU")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'lru-cache'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nejs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cache "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("LRU")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// LRU cache with 100-item limit")]),t._v("\n")])])]),a("p",[t._v("If you want to clear the EJS cache, call "),a("code",[t._v("ejs.clearCache")]),t._v(". If you're using the\nLRU cache and need a different limit, simple reset "),a("code",[t._v("ejs.cache")]),t._v(" to a new instance\nof the LRU.")]),t._v(" "),a("h3",{attrs:{id:"custom-file-loader"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#custom-file-loader"}},[t._v("#")]),t._v(" Custom file loader")]),t._v(" "),a("p",[t._v("The default file loader is "),a("code",[t._v("fs.readFileSync")]),t._v(", if you want to customize it, you can set ejs.fileLoader.")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" ejs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ejs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("myFileLoad")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("filePath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myFileLoad: '")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" fs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFileSync")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("filePath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nejs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fileLoader "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" myFileLoad"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("With this feature, you can preprocess the template before reading it.")]),t._v(" "),a("h3",{attrs:{id:"layouts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#layouts"}},[t._v("#")]),t._v(" Layouts")]),t._v(" "),a("p",[t._v("EJS does not specifically support blocks, but layouts can be implemented by\nincluding headers and footers, like so:")]),t._v(" "),a("div",{staticClass:"language-ejs extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ejs"}},[a("code",[a("span",{pre:!0,attrs:{class:"token ejs language-ejs"}},[a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("<%-")]),a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("include")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'header'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" ")]),a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("-%>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  Title\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  My page\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token ejs language-ejs"}},[a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("<%-")]),a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("include")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'footer'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" ")]),a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("-%>")])]),t._v("\n")])])]),a("h2",{attrs:{id:"client-side-support"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#client-side-support"}},[t._v("#")]),t._v(" Client-side support")]),t._v(" "),a("p",[t._v("Go to the "),a("a",{attrs:{href:"https://github.com/mde/ejs/releases/latest",target:"_blank",rel:"noopener noreferrer"}},[t._v("Latest Release"),a("OutboundLink")],1),t._v(", download\n"),a("code",[t._v("./ejs.js")]),t._v(" or "),a("code",[t._v("./ejs.min.js")]),t._v(". Alternately, you can compile it yourself by cloning\nthe repository and running "),a("code",[t._v("jake build")]),t._v(" (or "),a("code",[t._v("$(npm bin)/jake build")]),t._v(" if jake is\nnot installed globally).")]),t._v(" "),a("p",[t._v("Include one of these files on your page, and "),a("code",[t._v("ejs")]),t._v(" should be available globally.")]),t._v(" "),a("h3",{attrs:{id:"example-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example-2"}},[t._v("#")]),t._v(" Example")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ejs.min.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" people "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'geddy'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'neil'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'alex'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      html "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ejs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<%= people.join(\", \"); %>'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("people"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" people"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// With jQuery:")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#output'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Vanilla JS:")]),t._v("\n  document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'output'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h3",{attrs:{id:"caveats"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#caveats"}},[t._v("#")]),t._v(" Caveats")]),t._v(" "),a("p",[t._v("Most of EJS will work as expected; however, there are a few things to note:")]),t._v(" "),a("ol",[a("li",[t._v("Obviously, since you do not have access to the filesystem, "),a("code",[t._v("ejs.renderFile()")]),t._v(" won't work.")]),t._v(" "),a("li",[t._v("For the same reason, "),a("code",[t._v("include")]),t._v("s do not work unless you use an "),a("code",[t._v("include callback")]),t._v(". Here is an example:")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" str "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"Hello <%= include('file', {person: 'John'}); %>\"")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    fn "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ejs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("compile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("client"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// include callback")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// path -> 'file'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// d -> {person: 'John'}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Put your code here")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Return the contents of file as a string")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// returns rendered string")]),t._v("\n")])])]),a("p",[t._v("See the "),a("a",{attrs:{href:"https://github.com/mde/ejs/tree/master/examples",target:"_blank",rel:"noopener noreferrer"}},[t._v("examples folder"),a("OutboundLink")],1),t._v(" for more details.")]),t._v(" "),a("h2",{attrs:{id:"cli"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cli"}},[t._v("#")]),t._v(" CLI")]),t._v(" "),a("p",[t._v("EJS ships with a full-featured CLI. Options are similar to those used in JavaScript code:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("-o / --output-file FILE")]),t._v("            Write the rendered output to FILE rather than stdout.")]),t._v(" "),a("li",[a("code",[t._v("-f / --data-file FILE")]),t._v("              Must be JSON-formatted. Use parsed input from FILE as data for rendering.")]),t._v(" "),a("li",[a("code",[t._v("-i / --data-input STRING")]),t._v("           Must be JSON-formatted and URI-encoded. Use parsed input from STRING as data for rendering.")]),t._v(" "),a("li",[a("code",[t._v("-m / --delimiter CHARACTER")]),t._v("         Use CHARACTER with angle brackets for open/close (defaults to %).")]),t._v(" "),a("li",[a("code",[t._v("-p / --open-delimiter CHARACTER")]),t._v("    Use CHARACTER instead of left angle bracket to open.")]),t._v(" "),a("li",[a("code",[t._v("-c / --close-delimiter CHARACTER")]),t._v("   Use CHARACTER instead of right angle bracket to close.")]),t._v(" "),a("li",[a("code",[t._v("-s / --strict")]),t._v("                      When set to "),a("code",[t._v("true")]),t._v(", generated function is in strict mode")]),t._v(" "),a("li",[a("code",[t._v("-n / --no-with")]),t._v("                     Use 'locals' object for vars rather than using "),a("code",[t._v("with")]),t._v(" (implies --strict).")]),t._v(" "),a("li",[a("code",[t._v("-l / --locals-name")]),t._v("                 Name to use for the object storing local variables when not using "),a("code",[t._v("with")]),t._v(".")]),t._v(" "),a("li",[a("code",[t._v("-w / --rm-whitespace")]),t._v("               Remove all safe-to-remove whitespace, including leading and trailing whitespace.")]),t._v(" "),a("li",[a("code",[t._v("-d / --debug")]),t._v("                       Outputs generated function body")]),t._v(" "),a("li",[a("code",[t._v("-h / --help")]),t._v("                        Display this help message.")]),t._v(" "),a("li",[a("code",[t._v("-V/v / --version")]),t._v("                   Display the EJS version.")])]),t._v(" "),a("p",[t._v("Here are some examples of usage:")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ ejs -p "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -c "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" ./template_file.ejs -o ./output.html\n$ ejs ./test/fixtures/user.ejs "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Lerxst\n$ ejs -n -l _ ./some_template.ejs -f ./data_file.json\n")])])]),a("h3",{attrs:{id:"data-input"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-input"}},[t._v("#")]),t._v(" Data input")]),t._v(" "),a("p",[t._v("There is a variety of ways to pass the CLI data for rendering.")]),t._v(" "),a("p",[t._v("Stdin:")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ ./test/fixtures/user_data.json "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ejs ./test/fixtures/user.ejs\n$ ejs ./test/fixtures/user.ejs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" test/fixtures/user_data.json\n")])])]),a("p",[t._v("A data file:")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ ejs ./test/fixtures/user.ejs -f ./user_data.json\n")])])]),a("p",[t._v("A command-line option (must be URI-encoded):")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("./bin/cli.js -i %7B%22name%22%3A%20%22foo%22%7D ./test/fixtures/user.ejs\n")])])]),a("p",[t._v("Or, passing values directly at the end of the invocation:")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("./bin/cli.js -m $ ./test/fixtures/user.ejs "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("foo\n")])])]),a("h3",{attrs:{id:"output"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#output"}},[t._v("#")]),t._v(" Output")]),t._v(" "),a("p",[t._v("The CLI by default send output to stdout, but you can use the "),a("code",[t._v("-o")]),t._v(" or "),a("code",[t._v("--output-file")]),t._v("\nflag to specify a target file to send the output to.")]),t._v(" "),a("h2",{attrs:{id:"ide-integration-with-syntax-highlighting"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ide-integration-with-syntax-highlighting"}},[t._v("#")]),t._v(" IDE Integration with Syntax Highlighting")]),t._v(" "),a("p",[t._v("VSCode:Javascript EJS by "),a("em",[t._v("DigitalBrainstem")])]),t._v(" "),a("h2",{attrs:{id:"related-projects"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#related-projects"}},[t._v("#")]),t._v(" Related projects")]),t._v(" "),a("p",[t._v("There are a number of implementations of EJS:")]),t._v(" "),a("ul",[a("li",[t._v("TJ's implementation, the v1 of this library: https://github.com/tj/ejs")]),t._v(" "),a("li",[t._v("EJS Embedded JavaScript Framework on Google Code: https://code.google.com/p/embeddedjavascript/")]),t._v(" "),a("li",[t._v("Sam Stephenson's Ruby implementation: https://rubygems.org/gems/ejs")]),t._v(" "),a("li",[t._v("Erubis, an ERB implementation which also runs JavaScript: http://www.kuwata-lab.com/erubis/users-guide.04.html#lang-javascript")]),t._v(" "),a("li",[t._v("DigitalBrainstem EJS Language support: https://github.com/Digitalbrainstem/ejs-grammar")])]),t._v(" "),a("h2",{attrs:{id:"license"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#license"}},[t._v("#")]),t._v(" License")]),t._v(" "),a("p",[t._v("Licensed under the Apache License, Version 2.0\n("),a("a",{attrs:{href:"http://www.apache.org/licenses/LICENSE-2.0",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.apache.org/licenses/LICENSE-2.0"),a("OutboundLink")],1),t._v(")")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("EJS Embedded JavaScript templates copyright 2112\nmde@fleegix.org.")])])}),[],!1,null,null,null);s.default=n.exports}}]);