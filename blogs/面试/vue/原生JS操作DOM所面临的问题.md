---
title: 原生JS操作DOM所面临的问题
date: '2023-08-21 15:47'
sidebar: 'auto'
categories:
 - 前端
 - 面试
tags:
 - 面试
---

:::tip
在我们不使用类似于VUE、React等框架编辑HTML时，会面临若干问题
:::

<!-- more -->

1. 缺少作用域的概念，状态暴露在全局。
2. 需要获取DOM，而且更新页面视图时，需要手动操作DOM，更重要的是获取DOM和操作DOM的性能开销很大。可以参考[为什么使用虚拟DOM](./../../vue/vue3/vue核心原理/为什么使用虚拟DOM.md)这篇文章。
3. 需要开发者手动绑定事件监听器，需要手动解绑事件监听器，缺乏自动取消监听的时机和机制;

## 监听数据变化的主流方式

- 使用defineProperty或使用Proxy方法来被动监听数据的变化；
- 使用一些列预定义的数据修改API来进行数据修改，并通过调用这些API来感知数据的修改；
- 进行脏数据检查（Dirty Checking）;

## 为什么使用过滤器而不是方法

- 对视图上的数据使用过滤器处理，使视图数据+过滤器更像是一个整体；
- 使用过滤器将针对视图的处理和转换的方法都放到filters中，而组件视图上的方法专注处理与视图无关的逻辑行为；这样可以保证方法的专一性，如果使用方法代替过滤器则会破坏这一行为；